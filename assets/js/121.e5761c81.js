(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{439:function(t,s,a){"use strict";a.r(s);var e=a(27),v=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#evm系列"}},[t._v("EVM系列")]),s("ul",[s("li",[s("a",{attrs:{href:"#gasprice"}},[t._v("gasPrice")])])])]),s("li",[s("a",{attrs:{href:"#bitcoin"}},[t._v("Bitcoin")])]),s("li",[s("a",{attrs:{href:"#solana原理"}},[t._v("Solana原理")])])])]),s("p"),t._v(" "),s("h1",{attrs:{id:"evm、bitcoin等链加速原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#evm、bitcoin等链加速原理"}},[t._v("#")]),t._v(" EVM、Bitcoin等链加速原理")]),t._v(" "),s("h2",{attrs:{id:"evm系列"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#evm系列"}},[t._v("#")]),t._v(" EVM系列")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("原理")]),t._v(" "),s("p",[t._v("以太坊交易是基于账户模型的，每一笔交易都有一个唯一的 "),s("strong",[t._v("nonce")]),t._v("。\n如果你的交易卡住了（gas price 太低），你可以用相同的"),s("strong",[t._v("nonce")]),t._v(" + 更高的 "),s("code",[t._v("gasPrice/maxFeePerGas")]),t._v(' 重新发一笔交易去"覆盖"原来的交易（称为 Replace by Fee,简称RBF）')])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("hash 是否改变")]),t._v(" "),s("p",[t._v("改变，因为交易内容中的 gas price 变了 → 交易哈希也会变。新的交易会覆盖旧的交易，旧的交易会被节点丢弃")])]),t._v(" "),s("h3",{attrs:{id:"gasprice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gasprice"}},[t._v("#")]),t._v(" gasPrice")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("evm系列都有"),s("strong",[t._v("gasPrice")]),t._v("，分为EIP-1559(伦敦升级)之前和之后：")]),t._v(" "),s("ul",[s("li",[t._v("升级之前：完全是市场博弈——由用户自己出价、矿工选择最高价的交易打包，链上没有任何算法。一般是钱包UI给出三个档位让用选择，或者让用户自己输入一个值。\n"),s("ul",[s("li",[t._v("slow：5Gwei")]),t._v(" "),s("li",[t._v("standard：15Gwei")]),t._v(" "),s("li",[t._v("fast：30Gwei")])])]),t._v(" "),s("li",[t._v("升级之后：改为了动态"),s("code",[t._v("baseFee")]),t._v(" + "),s("code",[t._v("maxPriorityFee")]),t._v("的模型\n"),s("ul",[s("li",[s("code",[t._v("baseFee")]),t._v(":由协议自动计算，会根据上个区块的gas使用量自动调整")]),t._v(" "),s("li",[s("code",[t._v("maxPriorityFee")]),t._v(":由用户决定，用来给矿工的小费，普通交易：1~2Gwei,高优先级：3~5Gwei,区块特别拥堵时会更高。")]),t._v(" "),s("li",[s("code",[t._v("maxFeePerGas")]),t._v(":用户愿意支付的最大Gas价格，钱包一般会自动设置为"),s("code",[t._v("baseFee")]),t._v("×2 + "),s("code",[t._v("maxPriorityFee")]),t._v("，这样能保证你的交易即使下一两个区块baseFee上涨，也不会挂住。")])])])]),t._v(" "),s("p",[t._v("升级后一般控制"),s("code",[t._v("gas")]),t._v("、"),s("code",[t._v("maxFeePerGas")]),t._v("、"),s("code",[t._v("maxPriorityFeePerGas")]),t._v("这三个值来保证交易完成。")])]),t._v(" "),s("h2",{attrs:{id:"bitcoin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bitcoin"}},[t._v("#")]),t._v(" Bitcoin")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("原理")]),t._v(" "),s("p",[t._v("1、比特币基于 UTXO 模型，支持 RBF（Replace by Fee）机制。\n你可以发一笔 "),s("strong",[t._v("相同输入(UTXO)")]),t._v(" 的交易，更高的 fee rate（sats/vByte） 去覆盖旧交易。\n或者使用矿池的“加速服务”，比如 ViaBTC、Mempool.space 支持矿工手动加速。")]),t._v(" "),s("p",[t._v("2、如果原交易没开 RBF，用户可以用原来交易的"),s("strong",[t._v("输出UTXO")]),t._v("，构造一个子交易，子交易设置一个高 "),s("strong",[t._v("fee")]),t._v("，矿工为了打包子交易，必须一并打包父交易，这种方式原交易 hash 不变，但通过子交易间接提速。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("hash 是否改变")]),t._v(" "),s("p",[t._v("只要任意交易字段变动（fee、输出数额、锁定时间等），都会导致交易哈希变, 原交易被节点丢弃。\n构造子交易的原hash不变。")])]),t._v(" "),s("h2",{attrs:{id:"solana原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#solana原理"}},[t._v("#")]),t._v(" Solana原理")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("原理")]),t._v(" "),s("p",[t._v("Solana 基于账户模型，但交易是按 block slot 的并行处理。\n它并不支持传统意义上的“RBF”，你不能发相同 nonce 的交易去替换之前的。\n但是可以重新构造一笔新交易，让节点优先广播或通过 RPC 送进 leader node。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("hash 是否改变")]),t._v(" "),s("p",[t._v("重发交易 == 构造一笔新交易 → hash 一定变。")])])])}),[],!1,null,null,null);s.default=v.exports}}]);